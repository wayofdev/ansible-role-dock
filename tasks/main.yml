---

- name: Dockutil | Include | General validation tasks
  ansible.builtin.include_tasks: validate-all.yml
  loop: "{{ items_to_validate | flatten(levels=1) }}"
  loop_control:
    loop_var: item_to_validate
  tags:
    - dock-manipulate
    - dock-validate
    - dock-map

- name: Dockutil | Include | Position validation tasks
  ansible.builtin.include_tasks: validate-pos.yml
  tags:
    - dock-manipulate
    - dock-validate
    - dock-map

- name: Dockutil | Include | Install dockutil
  ansible.builtin.include_tasks: install.yml
  tags:
    - dockutil-install

- name: Dockutil | Include | Remove all items
  ansible.builtin.include_tasks: remove-all.yml
  when: dockutil.erase_all|bool
  tags:
    - dock-manipulate
    - dock-remove

- name: Dockutil | Include | Add - remove - move - replace items
  ansible.builtin.include_tasks: map.yml
  tags:
    - dock-manipulate
    - dock-map
